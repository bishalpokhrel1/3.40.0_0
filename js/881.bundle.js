"use strict";(self.webpackChunkextension=self.webpackChunkextension||[]).push([[881],{77501:(e,n,t)=>{t.d(n,{Ay:()=>f,Q0:()=>d,mi:()=>u,pJ:()=>c});var r=t(30395),a=t.n(r),i=t(22155),o=t(86548),l=i.createElement,u=function(e){var n=e.readOnly,t=e.isLocked,r=e.hasInput,a=e.disabled,i=e.focused,o=e.isPrimaryField;return n||t||r&&!i||o&&r?"text-text-tertiary":a?"text-text-disabled":"text-text-primary"},c=function(e){var n=e.readOnly,t=e.isLocked,r=e.disabled,a=e.focused,i=e.hasInput,o=e.hasActionIcon;return n&&o||i?"text-text-primary":n||t?"text-text-quaternary":r?"text-text-disabled":a?"text-text-quaternary":"text-text-tertiary hover:text-text-primary"},d=function(e){var n=e.isSecondaryField,t=e.isTertiaryField,r=e.placeholder,a=e.focused,i=e.label;return t?a?r:i:a||n?null!=r?r:"":i};function s(e,n){var t=e.className,r=void 0===t?{}:t,i=e.fieldType,c=void 0===i?"primary":i,d=e.readOnly,s=e.isLocked,f=e.hasInput,p=e.disabled,v=e.focused,h=e.inputId,y=e.label,m=e.children,b=e.invalid,g=e.hint,x=e.hintIcon,I=e.saveHintSpace,O=e.focusInput,w="secondary"===c;return l("div",{ref:n,className:a()("flex flex-col",r.container)},w&&l("label",{className:a()("mb-1 px-2 font-bold typo-caption1",r.outerLabel,u({readOnly:d,isLocked:s,hasInput:f,disabled:p,focused:v})),htmlFor:h},y),l(o.s,{"data-testid":"field",onClick:O,className:a()("relative flex",w?"rounded-10":"rounded-14",r.baseField,{readOnly:d,focused:v,invalid:b})},m),((null==g?void 0:g.length)||I)&&l("div",{role:b?"alert":void 0,className:a()("mt-1 flex items-center gap-1 px-2 typo-caption1",I&&"h-4",b?"text-status-error":"text-text-quaternary",r.hint)},x||void 0,g))}const f=(0,i.forwardRef)(s)},43660:(e,n,t)=>{t.d(n,{A:()=>b});var r=t(33998),a=t(21441),i=t(34900),o=t(22155),l=t(30395),u=t.n(l),c=t(86548),d=t(85436),s=t(77501),f=t(6721),p=["className","inputId","name","label","maxLength","showMaxLength","value","saveHintSpace","progress","hint","hintIcon","valid","validityChanged","valueChanged","placeholder","style","fieldType","isLocked","readOnly","leftIcon","actionButton","disabled","rightIcon","required","pressed","onBlur","focused","inputRef"],v=o.createElement;function h(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?h(Object(t),!0).forEach((function(n){(0,a.A)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):h(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function m(e,n){var t,a=e.className,l=void 0===a?{}:a,h=e.inputId,m=e.name,b=e.label,g=e.maxLength,x=e.showMaxLength,I=void 0===x||x,O=e.value,w=e.saveHintSpace,k=void 0!==w&&w,A=e.progress,L=e.hint,S=e.hintIcon,N=e.valid,C=e.validityChanged,q=e.valueChanged,F=e.placeholder,j=(e.style,e.fieldType),E=void 0===j?"primary":j,R=e.isLocked,M=e.readOnly,P=void 0===M?R:M,T=e.leftIcon,z=e.actionButton,B=e.disabled,D=e.rightIcon,H=e.required,Q=e.pressed,Z=e.onBlur,$=e.focused,V=e.inputRef,J=(0,i.A)(e,p),X=(0,f.A)({value:O,valueChanged:q,valid:N,validityChanged:C}),Y=X.validInput,G=X.focused,K=X.hasInput,U=X.focusInput,_=X.inputRef,W=X.onFocus,ee=X.onBlur,ne=X.onInput,te=X.inputLength,re=$||G,ae="primary"===E,ie="secondary"===E,oe="tertiary"===E,le=!1===Y||H&&0===te,ue=K||!(null==_||null===(t=_.current)||void 0===t||null===(t=t.value)||void 0===t||!t.length),ce=(0,o.useId)();return v(s.Ay,{ref:n,inputId:h,invalid:le,focusInput:U,saveHintSpace:k,hint:L,hintIcon:S,fieldType:E,readOnly:P,isLocked:R,hasInput:K,disabled:B,focused:re,label:b,className:y(y({},l),{},{container:u()("items-stretch",l.container),baseField:u()("flex-row items-center",d.A.field,l.baseField,T&&"pl-3",z&&"pr-3",ie?"h-9":"h-12")})},T&&v("span",{className:u()("mr-2",(0,s.pJ)({readOnly:P,disabled:B,hasInput:K,focused:re,isLocked:R,hasActionIcon:!!D}))},T),v("div",{className:u()("flex max-w-full flex-1 flex-col items-start",z&&"mr-2")},ae&&(G||ue)&&v("label",{className:u()("typo-caption1",(0,s.mi)({readOnly:P,isLocked:R,hasInput:ue,focused:re,disabled:B,isPrimaryField:!0})),htmlFor:h.concat(ce)},b),v(c.T,(0,r.A)({placeholder:(0,s.Q0)({label:b,focused:G,placeholder:F,isTertiaryField:oe,isSecondaryField:ie}),name:m,id:h.concat(ce),ref:function(e){_.current=e,null==V||V(e)},onFocus:W,onBlur:function(e){Z&&Z(e),ee()},maxLength:g,readOnly:P,size:1,className:u()(d.A.input,"self-stretch text-ellipsis",null==l?void 0:l.input,(0,s.pJ)({readOnly:P,disabled:B,hasInput:ue,focused:re,hasActionIcon:!!D}),{pressed:Q}),disabled:B,required:H},J,{onInput:function(e){ne(e),J.onInput&&J.onInput(e)}})),A&&v("div",{className:u()("absolute bottom-0 h-[3px] rounded-10 transition-all",A)})),g&&I&&v("div",{className:"ml-2 font-bold typo-callout",style:{color:"var(--field-placeholder-color)"}},g-(te||0)),D,z)}var b=(0,o.forwardRef)(m)},86548:(e,n,t)=>{t.d(n,{T:()=>i,s:()=>o});var r=t(63423),a=t(94992),i=(0,r.A)("input","min-w-0 bg-transparent typo-body caret-text-link focus:outline-none"),o=(0,r.A)("div","flex px-4 overflow-hidden bg-surface-float border border-transparent cursor-text",a.A.field)},8483:(e,n,t)=>{t.d(n,{A:()=>p});var r=t(33998),a=t(34900),i=t(22155),o=t(27504),l=t(38638),u=t(55052),c=t(16763),d=t(91201),s=["source","rounded","isLink"],f=i.createElement;const p=function(e){var n=e.source,t=e.rounded,i=void 0===t?"full":t,p=e.isLink,v=(0,a.A)(e,s),h=(0,d.D)().isCompanion;return f(o.A,{condition:!!p,wrapper:function(e){return f(u.y,{href:n.permalink},e)}},f(l.Y3,(0,r.A)({},v,{rounded:i,user:{id:n.id,image:n.image,username:n.handle},fallbackSrc:c.N_,nativeLazyLoading:h})))}},70962:(e,n,t)=>{t.d(n,{g:()=>y});var r=t(22155),a=t(48389),i=t(87822),o=t(8483),l=t(63037),u=t(80244),c=t(57952),d=t(60665),s=t(8952),f=t(83448),p=t(19505),v=t(38638),h=r.createElement;function y(e){var n=e.isLoading,t=e.onClick,y=e.size,m=void 0===y?f.Mp.Large:y,b=e.squadAvatarSize,g=void 0===b?v.Ov.XLarge:b,x=(0,u.Z2)().squads,I=(0,s.i)().openNewSquad,O=(0,r.useMemo)((function(){var e;return null!==(e=null==x?void 0:x.filter((function(e){return e.active&&(0,a.pZ)(e,i.Wk.Post)})).map((function(e){return h(l.$,{key:e.id,onClick:function(n){return t(n,e)},icon:h(o.A,{source:e,size:g}),size:m,label:"@".concat(e.handle),disabled:n})})))&&void 0!==e?e:[]}),[x,n,t,m,g]);return O.length?h(r.Fragment,null,O):h(l.$,{onClick:function(){return I({origin:c.$e.Share,pageRedirect:!0})},icon:h(d.c,{className:"text-surface-invert"}),variant:f.Ak.Primary,color:p.h.Cabbage,className:"!rounded-full",label:"New Squad",size:m})}},63037:(e,n,t)=>{t.d(n,{$:()=>y});var r=t(33998),a=t(34900),i=t(21441),o=t(22155),l=t(30395),u=t.n(l),c=t(83448),d=t(53823),s=t(63423),f=["href","icon","label","size"],p=o.createElement,v=(0,s.A)("span","text-text-tertiary cursor-pointer"),h=(0,i.A)((0,i.A)({},c.Mp.Large,"typo-caption2"),c.Mp.Medium,"typo-caption1"),y=function(e){var n=e.href,t=e.icon,i=e.label,l=e.size,s=void 0===l?c.Mp.Large:l,y=(0,a.A)(e,f),m=(0,o.useRef)(),b=n&&{href:n,rel:"noopener",target:"blank",tag:"a"};return p("div",{className:"flex w-16 flex-col items-center"},p(d.$n,(0,r.A)({},b,y,{"data-testid":"social-share-".concat(i),size:s,icon:t,ref:m})),p(v,{className:u()("mt-1.5 max-w-16 overflow-hidden overflow-ellipsis text-center",h[s]),onClick:function(){var e;return null==m||null===(e=m.current)||void 0===e?void 0:e.click()}},i))}},95098:(e,n,t)=>{t.d(n,{G:()=>a});var r=t(22155);function a(e,n){var t=(0,r.useRef)(null),a=(0,r.useState)(!1),i=a[0],o=a[1],l=(0,r.useState)(!1),u=l[0],c=l[1],d=function(e){t.current.value=e,t.current.dispatchEvent(new Event("input",{bubbles:!0}))};(0,r.useEffect)((function(){var n;void 0!==e&&(d((null==e?void 0:e.toString())||""),c(!(null==t||null===(n=t.current)||void 0===n||null===(n=n.value)||void 0===n||!n.length)))}),[e]);return{inputRef:t,focused:i,hasInput:u,onFocus:function(){return o(!0)},onBlur:function(){return o(!1)},onInput:function(e){n&&n(e.currentTarget.value);var t=e.currentTarget.value.length;!u&&t?c(!0):u&&!t&&c(!1)},focusInput:function(){t.current.focus()},setInput:d}}},6721:(e,n,t)=>{t.d(n,{A:()=>l});var r=t(56594),a=t(22155),i=t(34229),o=t(95098);const l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.value,t=e.valid,l=e.valueChanged,u=e.validityChanged,c=(0,o.G)(n,l),d=c.inputRef,s=c.focused,f=c.hasInput,p=c.onFocus,v=c.onBlur,h=c.onInput,y=c.focusInput,m=c.setInput,b=(0,a.useState)(void 0),g=b[0],x=b[1],I=(0,a.useState)(void 0),O=I[0],w=I[1],k=(0,a.useRef)(void 0),A=(0,i.A)((function(){w(d.current.checkValidity())}),500),L=(0,r.A)(A,2),S=L[0],N=L[1];return(0,a.useEffect)((function(){var e;null!==(e=d.current)&&void 0!==e&&e.value&&(x(d.current.value.length),d.current.checkValidity()&&w(!0))}),[d]),(0,a.useEffect)((function(){void 0!==O&&(null==u||u(O),k.current=O)}),[O]),(0,a.useEffect)((function(){void 0!==k.current&&void 0!==t&&w(t)}),[t]),{inputLength:g,inputRef:d,focused:s,hasInput:f,validInput:O,onFocus:p,onBlur:function(){N(),v(),d.current&&w(d.current.checkValidity())},onInput:function(e){N(),h(e),l&&l(e.currentTarget.value);var n=e.currentTarget.value.length;x(n),d.current.checkValidity()?w(!0):S()},focusInput:y,setInput:m}}},8952:(e,n,t)=>{t.d(n,{i:()=>s});var r=t(80446),a=t(22155),i=t(57952),o=t(28926),l=t(80244),u=t(54883),c=t(89883),d=t(77955),s=function(){var e=(0,l.Z2)(),n=e.user,t=e.showLogin,s=(0,r.useRouter)(),f=(0,c.d)().openModal,p="".concat(u.ZO,"squads/new"),v=(0,a.useCallback)((function(e){var r,a;if(!n)return null==e||null===(a=e.event)||void 0===a||a.preventDefault(),void t({trigger:o._f.CreateSquad});null==e||null===(r=e.event)||void 0===r||r.preventDefault(),null!=e&&e.pageRedirect?s.push("".concat(p,"?origin=").concat(e.origin)):f({type:d.K2.NewSquad})}),[n,f,t,s,p]),h=(0,a.useCallback)((function(e){var n=e.handle;s.push("".concat(u.ZO,"squads/").concat(n,"/edit"))}),[s]);return(0,a.useEffect)((function(){var e=new URLSearchParams(window.location.search),n=Object.fromEntries(e);if(null!=n&&n.squad){var t=window.location,r=t.origin,a=t.pathname;v({origin:i.$e.Notification}),s.replace(r+a)}}),[s.pathname]),{openNewSquad:v,editSquad:h,newSquadUrl:p}}},85436:(e,n,t)=>{t.d(n,{A:()=>r});const r={input:"XxfQr1w6K5DHV1cxQo5aYQ==",field:"DOQOigjBSuqHj7n2DJM7hw=="}},94992:(e,n,t)=>{t.d(n,{A:()=>r});const r={field:"OSaZMMeM+axN9uO6jYIrXA=="}}}]);